I"çA<p>Closure lÃ  má»™t functional tuyá»‡t vá»i mÃ  Swift cung cáº¥p cho láº­p trÃ¬nh viÃªn, tháº­t ra Closure khÃ´ng pháº£i Ä‘iá»uÂ Ä‘áº·c biá»‡t chá»‰ cÃ³ trÃªn Swift, cÃ¡c ngÃ´n ngá»¯ khÃ¡c Ä‘á»u cÃ³ closure, tuy nhiÃªn Ä‘Æ°á»£c gá»i báº±ng cÃ¡i tÃªn khÃ¡c do nhÃ  phÃ¡t triá»ƒn ngÃ´n ngá»¯ nghÄ© ra mÃ  thÃ´i, vÃ­ dá»¥: closure tÆ°Æ¡ng á»©ng vá»›i block trong Objective-C, hoáº·c lÃ  lambda trong Java, delegates trong C#Â (trong JavaScript cÅ©ng gá»i lÃ  Anonymous Function).</p>

<p>BÃ i viáº¿t dÆ°á»›i Ä‘Ã¢y, mÃ¬nh sáº½ giá»›i thiá»‡u vá» Closure theo cÃ¡ch nhÃ¬n nháº­n cá»§a báº£n thÃ¢n mÃ¬nh, mÃ¬nh sáº½ táº­p trung vÃ o tráº£ lá»i cÃ¡c cÃ¢u há»i sau cho cÃ¡c báº¡n dá»… hÃ¬nh dung:</p>

<ul>
  <li>Closure lÃ  cÃ¡i gÃ¬?</li>
  <li>Táº¡i sao pháº£i dÃ¹ng Closure? Vai trÃ² cá»§a nÃ³ lÃ  gÃ¬?</li>
  <li>Sá»­ dá»¥ng Closure nhÆ° tháº¿ nÃ o?</li>
</ul>

<!--more-->

<ol>
  <li>Closure lÃ  gÃ¬?</li>
</ol>

<p>Closure lÃ  má»™t táº­p cÃ¡c Ä‘oáº¡n code logic Ä‘Æ°á»£c Ä‘áº·t cÃ¹ng nhau trong má»™t khá»‘i (giá»‘ng vá»›i 1 hÃ m (function/method)),Â nhá» vÃ o Ä‘Ã³ nÃ³ cÃ³ thá»ƒ Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ â€œpass aroundâ€ ( cÃ¡i nÃ y mÃ¬nh khÃ´ng dá»‹ch, cÃ¡c báº¡n cÃ³ thá»ƒ hiá»ƒu nÃ³ cÃ³ thá»ƒ dÆ°á»£c dÃ¹ng nhÆ° má»™t variable, hoáº·c truyá»n nhÆ° má»™t paramter, hay cÃ³ thá»ƒ lÃ  giÃ¡ trá»‹ tráº£ vá» cá»§a má»™t function cháº³ng háº¡n).</p>

<p>NÃ³i váº­y thÃ¬ hÆ¡i chung chung nhá»‰, khÃ´ng sao, cá»© nhá»› cÃ¡i quan trá»ng nháº¥t cá»§a nÃ³ lÃ  â€œpass aroundâ€ Ä‘i, rá»“i mÃ¬nh sáº½ giáº£i thÃ­ch má»¥c tiÃªu cá»§a Closure sau.</p>

<ol>
  <li>Táº¡i sao pháº£i dÃ¹ng Closure? Vai trÃ² cá»§a nÃ³ lÃ  gÃ¬?</li>
</ol>

<p>Náº¿u nhÆ° chá»‰ nÃ³i nhÆ° á»Ÿ trÃªn thÃ¬ nÃ³ cÃ³ khÃ¡c gÃ¬ máº¥y vá»›i function Ä‘Ã¢u, cÅ©ng lÃ  má»™t Ä‘á»‘ng code nhÃ©t vÃ o 1 khá»‘i, rá»“i thá»±c hiá»‡n má»—i khi nÃ³ Ä‘Æ°á»£c gá»i, váº­y sinh ra cÃ¡i Closure nÃ y lÃ m cÃ¡i quÃ¡i gÃ¬ chá»©, tá»± dÆ°ng pháº£i há»c Ä‘au cáº£ Ä‘áº§u.</p>

<p>KhÃ´ng, sá»± thá»±c khÃ´ng nhÆ° váº­y,Â hÃ£y sá»­ dá»¥ng tÆ° duy trá»«u tÆ°á»£ng Ä‘á»ƒ tÆ°á»Ÿng tÆ°á»£ng nhÆ° sau, báº¡n cÃ³ kiá»ƒu Int, lÃ  má»™p táº­p há»£p má»™t integer, kiá»ƒu String lÃ  táº­p há»£p string, vÃ  báº¡n cÃ³ thá»ƒ gÃ¡n chÃºng vÃ o má»™t biáº¿n, truyá»n lÃ m parameters,â€¦ thÃ¬ Closure cÅ©ng nhÆ° váº­y, nÃ³ lÃ  má»™t táº­p há»£p logic code, cÃ³ thá»ƒ gÃ¡n vÃ o má»™t biáº¿n, truyá»n lÃ m param mÃ  mÃ¬nh Ä‘Ã£ nÃ³i á»Ÿ trÃªn. Máº·t khÃ¡c, bÃªn trong Closure lÃ  má»™t táº­p há»£p dÃ²ng code, chÃ­nh vÃ¬ váº­y, báº¡n cÃ³ thá»ƒ gá»i nÃ³ ra Ä‘á»ƒ thá»±c hiá»‡n nhÆ° má»™t hÃ m, vÃ  Ä‘iá»u khiá»ƒn luá»“ng theo yÃªu cáº§u má»™t cÃ¡ch thuáº­n tiá»‡n vÃ  dá»… dÃ ng. VÃ­ dá»¥:</p>

<p><img class="alignnone size-full wp-image-121" src="https://devislifeblog.files.wordpress.com/2016/04/screen-shot-2016-04-08-at-2-51-12-pm.png" alt="Screen Shot 2016-04-08 at 2.51.12 PM.png" width="966" height="388" srcset="/wp-content/uploads/2016/04/screen-shot-2016-04-08-at-2-51-12-pm.png 966w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-2-51-12-pm-300x120.png 300w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-2-51-12-pm-768x308.png 768w" sizes="(max-width: 966px) 100vw, 966px" /></p>

<p>á» trÃªn mÃ¬nh khai bÃ¡o má»™t Closure, mÃ¬nh Ä‘áº·t tÃªn nÃ³ lÃ  closure1, báº¡n khoan nhÃ¬n vÃ o cÃ¡ch mÃ¬nh khai bÃ¡o, hÃ£y nhÃ¬n xuá»‘ng phÃ­a dÆ°á»›i: mÃ¬nh cÃ³ khai bÃ¡o thÃªm má»™t biáº¿n ná»¯a, Ä‘áº·t tÃªn lÃ  variable, vÃ  báº¡n tháº¥y Ä‘Ã³, mÃ¬nh hoÃ n toÃ n cÃ³ thá»ƒ gÃ¡n variable = closure1. Tiáº¿p Ä‘áº¿n, mÃ¬nh tiáº¿n hÃ nh gá»i nÃ³ nhÆ° lÃ  gá»i hÃ m luÃ´n closure1(), Ä‘iá»u nÃ y tÆ°Æ¡ng á»©ng vá»›i khá»‘i lá»‡nh bÃªn trong closure1 Ä‘Æ°á»£c náº¡p Ä‘á»ƒ thá»±c thi, á»Ÿ Ä‘Ã¢y nhÆ° báº¡n tháº¥y lÃ  in ra dÃ²ng â€œHello iâ€™m using closure to say hello with youâ€. VÃ  báº¡n tháº¥y dÃ²ng chá»¯ Ä‘Ã³ Ä‘Æ°á»£c in ra á»Ÿ gÃ³c pháº£i kia rá»“i pháº£i khÃ´ng. Váº­y Ä‘áº¥y, nÃ³ cÃ³ thá»ƒ gá»i Ä‘á»ƒ thá»±c hiá»‡n nhÆ° má»™t function, láº¡i cÃ²n cÃ³ thá»ƒ gÃ¡n vÃ  tÃ¹y biáº¿n nhÆ° má»™t kiá»ƒu, má»™t biáº¿n luÃ´n chá»©, quÃ¡ tiá»‡n pháº£i khÃ´ng :D.</p>

<p>Closure thuáº­n tiá»‡n nhÆ° váº­y, nÃªn Ä‘Æ°á»£c sá»­ dá»¥ng cá»±c kÃ¬ rá»™ng rÃ£i, closure thÆ°á»ng xuyÃªn Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ CALL BACK. ÄÃºng váº­y, chÃ­nh vÃ¬ sá»± linh hoáº¡t cÃ³ thá»ƒ Ä‘Æ°á»£c truyá»n qua truyá»n láº¡i, káº¿t há»£p vá»›i kháº£ nÄƒng cÃ³ thá»ƒ thá»±c thi lá»‡nhÂ báº¥t cá»© khi nÃ o gá»i cá»§a mÃ¬nh, mÃ  Closure cÃ³ thá»ƒ Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ call back (gá»i láº¡i). Closure hoÃ n toÃ n cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c property cá»§a class hiá»‡n táº¡i, tá»©c lÃ  nÃ³ hoÃ n toÃ n cÃ³ kháº£ nÄƒng gÃ¡n, thay Ä‘á»•i giÃ¡ trá»‹, hoáº·c thá»±c hiá»‡n logic nÃ o Ä‘Ã³ má»™t cÃ¡ch tá»± nhiÃªn, chÃ­nh vÃ¬ váº­y khi káº¿t há»£p vá»›i kháº£ nÄƒng call back cá»§a mÃ¬nh, closure trá»Ÿ nÃªn cá»±c kÃ¬ quan trá»ng. Kháº£ nÄƒng call back lÃ  nhÆ° tháº¿ nÃ o?. Xem hÃ¬nh sau:<img class="alignnone size-full wp-image-131" src="https://devislifeblog.files.wordpress.com/2016/04/screen-shot-2016-04-08-at-3-08-23-pm.png" alt="Screen Shot 2016-04-08 at 3.08.23 PM.png" width="833" height="296" srcset="/wp-content/uploads/2016/04/screen-shot-2016-04-08-at-3-08-23-pm.png 833w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-3-08-23-pm-300x107.png 300w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-3-08-23-pm-768x273.png 768w" sizes="(max-width: 833px) 100vw, 833px" /></p>

<p>MÃ¬nh khai bÃ¡o má»™t closure lÃ  callBackClosure. MÃ¬nh cÃ³ má»™t hÃ m tÃªn lÃ  testFunct(), parameter cá»§a nÃ³ tÃªn lÃ  handler truyá»n vÃ o lÃ  cÅ©ng lÃ  má»™t closure. Trong hÃ m testFunct(), mÃ¬nh in ra má»™t dÃ²ng, tiáº¿p Ä‘áº¿n mÃ¬nh tiáº¿n hÃ nh gá»i handler ( nÃ³ lÃ  closure, nÃªn nÃ³ gá»i Ä‘Æ°á»£c nhÆ° lÃ  má»™t hÃ m mÃ ). Cuá»‘i cÃ¹ng, hÃ m testFunct() sáº½ Ä‘Æ°á»£c gá»i á»Ÿ hÃ m main cá»§a mÃ¬nh, mÃ¬nh truyá»n callBackClosure vÃ o lÃ m parameter cho hÃ m testFunct(), cuá»‘i cÃ¹ng lÃ  build vÃ  cháº¡y thÃ´i. Oh yeah, káº¿t quáº£ hiá»ƒn thá»‹ kÃ¬a, báº¡n hiá»ƒu nÃ³ chá»© ?? Ok, MÃ¬nh giáº£i nghÄ©a nhÃ©, khi hÃ m testFunct Ä‘Æ°á»£c gá»i thá»±c hiá»‡n, nÃ³ sáº½ thá»±c hiá»‡n tuáº§n tá»± tá»« trÃªn xuá»‘ng dÆ°á»›i, vÃ  vÃ¬ mÃ¬nh in dÃ²ng â€œYeah rightâ€¦â€ ra trÆ°á»›c, nÃªn nÃ³ sáº½ Ä‘Æ°á»£c hiá»ƒn thá»‹ trÆ°á»›c. Sau khi nÃ³ in ra dÃ²ng Ä‘Ã³ rá»“i thÃ¬ sao? NÃ³ sáº½ gá»i thá»±c hiá»‡n cÃ¡i code bÃªn trong parameter handler cá»§a nÃ³. VÃ  param Ä‘Ã³ lÃ  cÃ¡i gÃ¬ ? ChÃ­nh lÃ  callBackClosure mÃ  mÃ¬nh truyá»n vÃ o, Ä‘á»“ng nghÄ©a vá»›i dÃ²ng lá»‡nh bÃªn trong closure Ä‘Ã³ Ä‘Æ°á»£c thá»±c hiá»‡n.</p>

<p>Báº¡n Ä‘Ã£ tháº¥y tÃ­nh call back cá»§a nÃ³ chÆ°a? Tháº­t ra vÃ­ dá»¥ nÃ y sáº½ dá»… hiá»ƒu vÃ  hÃ¬nh dung hÆ¡n, náº¿u mÃ¬nh Ä‘áº·t nÃ³ á»Ÿ 2 class khÃ¡c nhau, hay trong iOS lÃ  2 viewController khÃ¡c nhau.</p>

<p>Báº£n cháº¥t cá»§a cÃ¡i callback Ä‘Æ°á»£c thá»±c hiá»‡n chÃ­nh lÃ  nhá» vÃ o kháº£ nÄƒng execute code má»—i láº§n Ä‘Æ°á»£c gá»i cá»§a closure. Giáº£ sá»­, báº¡n cÃ³ 2 class riÃªng biá»‡t, class 1 cÃ³ define closure, class 2 gá»i closure Ä‘Ã³, vÃ  ngay khi class 2 gá»i, Ä‘oáº¡n code trong closure Ä‘Æ°á»£c thá»±c hiá»‡n tá»©c thÃ¬, báº¡n hoÃ n toÃ n cÃ³ thá»ƒ xá»­ lÃ½, debug khá»‘i lá»‡nh cá»§a closure nÃ y ngay táº¡i thá»i Ä‘iá»ƒm Ä‘Ã³.</p>

<p>ChÃ­nh nhá» tÃ­nh callback nÃ y mÃ  Closure cÃ³ thá»ƒ sá»­ dá»¥ng thay tháº¿ delegate ( Ä‘á»c bÃ i delegate Ä‘á»ƒ hiá»ƒu delegate lÃ  cÃ¡i gÃ¬ nhÃ©) trong má»™t sá»‘ trÆ°á»ng há»£p, tháº­t ra lÃ  thay tháº¿ á»Ÿ cÃ¡i khoáº£n báº¯t sá»± kiá»‡n mÃ  thÃ´i, cÃ²n thay tháº¿ cáº£ má»™t delegate pattern (protocol) thÃ¬ khÃ´ng thá»ƒ.</p>

<ol>
  <li>Sá»­ dá»¥ng Closure tháº¿ nÃ o:</li>
</ol>

<p>Báº¡n nÃ o há»c C# mÃ  biáº¿t tháº±ng Delegates thÃ¬ sáº½ hÃ¬nh dung Closure dá»… dÃ ng hÆ¡n, hoáº·c há»c JavaScript mÃ  biáº¿t closure native cá»§a nÃ³ thÃ¬ láº¡i cÃ ng tiá»‡n. ThÃ´i khÃ´ng ba hoa ná»¯a:</p>

<p><img class="alignnone size-full wp-image-155" src="https://devislifeblog.files.wordpress.com/2016/04/screen-shot-2016-04-08-at-3-53-01-pm.png" alt="Screen Shot 2016-04-08 at 3.53.01 PM.png" width="1206" height="531" srcset="/wp-content/uploads/2016/04/screen-shot-2016-04-08-at-3-53-01-pm.png 1206w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-3-53-01-pm-300x132.png 300w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-3-53-01-pm-768x338.png 768w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-3-53-01-pm-1024x451.png 1024w" sizes="(max-width: 1206px) 100vw, 1206px" /></p>

<p><img class="alignnone size-full wp-image-153" src="https://devislifeblog.files.wordpress.com/2016/04/screen-shot-2016-04-08-at-3-52-06-pm.png" alt="Screen Shot 2016-04-08 at 3.52.06 PM.png" width="1025" height="241" srcset="/wp-content/uploads/2016/04/screen-shot-2016-04-08-at-3-52-06-pm.png 1025w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-3-52-06-pm-300x71.png 300w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-3-52-06-pm-768x181.png 768w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-3-52-06-pm-1024x241.png 1024w" sizes="(max-width: 1025px) 100vw, 1025px" /></p>

<p>Bonus :)))</p>

<p><img class="alignnone size-full wp-image-191" src="https://devislifeblog.files.wordpress.com/2016/04/screen-shot-2016-04-06-at-17-35-58.png" alt="Screen Shot 2016-04-06 at 17.35.58.png" width="1426" height="756" /></p>

<p>Swift Ä‘Æ°á»£c sá»­ dá»¥ng rá»™ng rÃ£i trong cÃ¡c thÆ° viá»‡n cá»§a Swift, vÃ¬ viá»‡c gá»i hÃ m hay sá»­ dá»¥ng delegate trong má»™t sá»‘ trÆ°á»ng há»£p sáº½ khÃ¡ rá»‘i code vÃ  ráº¯c rá»‘i Ä‘á»ƒ follow theo luá»“ng xá»­ lÃ½ cá»§a nÃ³. VÃ­ dá»¥ khi tÆ°Æ¡ng tÃ¡c vá»›i Server API, á»Ÿ cÃ¡c version trÆ°á»›c cá»§a iOS sá»­ dá»¥ng NSUrlConnection, vÃ  theo Ä‘Ã³ báº¡n pháº£i implement má»™t Ä‘á»‘ng delegate kÃ¨m theo. Tháº¿ nhÆ°ng á»Ÿ iOS 8 trá»Ÿ Ä‘i, Apple Ä‘Ã£ thay tháº¿ hoÃ n toÃ n báº±ng NSURLSession vá»›i thá»±c hiá»‡n callback hoÃ n toÃ n báº±ng closure:</p>

<p><img class="alignnone size-full wp-image-160" src="https://devislifeblog.files.wordpress.com/2016/04/screen-shot-2016-04-08-at-4-02-32-pm.png" alt="Screen Shot 2016-04-08 at 4.02.32 PM.png" width="785" height="238" /></p>

<p><img class="alignnone size-full wp-image-161" src="https://devislifeblog.files.wordpress.com/2016/04/screen-shot-2016-04-08-at-4-04-39-pm.png" alt="Screen Shot 2016-04-08 at 4.04.39 PM.png" width="799" height="199" srcset="/wp-content/uploads/2016/04/screen-shot-2016-04-08-at-4-04-39-pm.png 799w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-4-04-39-pm-300x75.png 300w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-4-04-39-pm-768x191.png 768w" sizes="(max-width: 799px) 100vw, 799px" /></p>

<p>Hoáº·c vÃ­ dá»¥ Ä‘Æ¡n giáº£n nháº¥t vá» á»©ng dá»¥ng vÃ  sá»­ dá»¥ng closure trong Swift chÃ­nh lÃ  viá»‡c Apple Ä‘Ã£ váº­n dá»¥ng chÃºng trong filter vÃ  xá»­ lÃ½ cÃ¡c Array cá»§a mÃ¬nh.</p>

<p><img class="alignnone size-full wp-image-166" src="https://devislifeblog.files.wordpress.com/2016/04/screen-shot-2016-04-08-at-4-14-42-pm.png" alt="Screen Shot 2016-04-08 at 4.14.42 PM.png" width="820" height="381" /></p>

<ol>
  <li>Sá»­ dá»¥ng closure Ä‘á»ƒ thay tháº¿ delegate:</li>
</ol>

<p>Closure hoÃ n toÃ n cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ báº¯t sá»± kiá»‡n (send message) giá»¯a 2 View Controller nhá» vÃ o kháº£ nÄƒng call back Ä‘Ã£ nÃ³i á»Ÿ trÃªn. Xem xÃ©t vÃ­ dá»¥ sau:</p>

<p><img class="alignnone size-large wp-image-179" src="https://devislifeblog.files.wordpress.com/2016/04/screen-shot-2016-04-08-at-20-32-31.png?w=700" alt="Screen Shot 2016-04-08 at 20.32.31" width="700" height="475" srcset="/wp-content/uploads/2016/04/screen-shot-2016-04-08-at-20-32-31.png 1950w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-20-32-31-300x204.png 300w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-20-32-31-768x521.png 768w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-20-32-31-1024x695.png 1024w" sizes="(max-width: 700px) 100vw, 700px" /></p>

<p>MÃ¬nh cÃ³ 2 ViewController, Ä‘áº·t tÃªn lÃ  ViewController vÃ  NextViewController.</p>

<p>-Táº¡i ViewController: mÃ¬nh cÃ³ 1 nÃºt, khi click vÃ o sáº½ push sang NextViewController.</p>

<p>-Táº¡i NextViewController: mÃ¬nh cÅ©ng cÃ³ 1 nÃºt, khi click vÃ o thÃ¬ ViewController cÅ©ng biáº¿t sá»± kiá»‡n nÃ y, vÃ  thá»±c hiá»‡n ngay láº­p tá»©c.</p>

<p>Ká»‹ch báº£n nÃ y thÃ´ng thÆ°á»ng sáº½ dÃ¹ng delegate, nhÆ°ng hÃ´m nay mÃ¬nh muá»‘n dÃ¹ng Closure Ä‘á»ƒ thá»­ nghiá»‡m. Váº­y cÃ¡ch dÃ¹ng tháº¿ nÃ o?</p>

<p>Táº¡i ViewController:</p>

<p><img class="alignnone size-large wp-image-181" src="https://devislifeblog.files.wordpress.com/2016/04/screen-shot-2016-04-08-at-20-36-13.png?w=700" alt="Screen Shot 2016-04-08 at 20.36.13" width="700" height="207" srcset="/wp-content/uploads/2016/04/screen-shot-2016-04-08-at-20-36-13.png 1530w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-20-36-13-300x89.png 300w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-20-36-13-768x227.png 768w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-20-36-13-1024x303.png 1024w" sizes="(max-width: 700px) 100vw, 700px" /></p>

<p>handleClick lÃ  1 Closure, mÃ¬nh Ä‘á»‹nh nghÄ©a nÃ³ giá»‘ng 1 biáº¿n, Ä‘Æ°á»£c Ä‘áº·t táº¡i NextViewController, Ä‘á»“ng thá»i mÃ¬nh viáº¿t code thá»±c thi bÃªn trong cá»§a nÃ³ lÃ  dÃ²ng â€œIâ€™m called whenever you click at NextViewâ€.</p>

<p>Táº¡i NextViewController:</p>

<p><img class="alignnone size-large wp-image-182" src="https://devislifeblog.files.wordpress.com/2016/04/screen-shot-2016-04-08-at-20-36-25.png?w=700" alt="Screen Shot 2016-04-08 at 20.36.25" width="700" height="226" srcset="/wp-content/uploads/2016/04/screen-shot-2016-04-08-at-20-36-25.png 996w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-20-36-25-300x97.png 300w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-20-36-25-768x248.png 768w" sizes="(max-width: 700px) 100vw, 700px" /></p>

<p>MÃ¬nh khai bÃ¡o 1 Closure lÃ  handleClick, báº£n cháº¥t lÃ  () -&gt; (), tá»©c lÃ  nháº­n vÃ o void vÃ  tráº£ vá» void. Káº¿ Ä‘áº¿n, mÃ¬nh thá»±c hiá»‡n gá»i closure nÃ y má»—i khi click vÃ o nÃºt.</p>

<p>VÃ  Ä‘Ã¢y lÃ  káº¿t quáº£ thá»±c hiá»‡n má»—i láº§n mÃ¬nh click vÃ o cÃ¡i nÃºt á»Ÿ NextViewController.</p>

<p><img class="alignnone size-large wp-image-183" src="https://devislifeblog.files.wordpress.com/2016/04/screen-shot-2016-04-08-at-20-40-24.png?w=700" alt="Screen Shot 2016-04-08 at 20.40.24" width="700" height="342" srcset="/wp-content/uploads/2016/04/screen-shot-2016-04-08-at-20-40-24.png 1036w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-20-40-24-300x147.png 300w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-20-40-24-768x375.png 768w, /wp-content/uploads/2016/04/screen-shot-2016-04-08-at-20-40-24-1024x500.png 1024w" sizes="(max-width: 700px) 100vw, 700px" /></p>

<p>MÃ¬nh sáº½ giáº£i nghÄ©a hoáº¡t Ä‘á»™ng cá»§a nÃ³, khi báº¡n click vÃ o nÃºt á»Ÿ NextViewController, Ä‘á»“ng thá»i báº¡n sáº½ gá»i Ä‘á»ƒ execute cÃ¡i closure handleClick, váº­y nhá»¯ng dÃ²ng lá»‡nh Ä‘á»ƒ thá»±c thi nÃ³ náº±m á»Ÿ Ä‘Ã¢u? KhÃ´ng pháº£i chÃ­nh lÃ  Ä‘oáº¡n print() á»Ÿ hÃ m prepareSegue trong ViewController trÆ°á»›c hay sao? NhÆ° váº­y, closure sáº½ thá»±c thi Ä‘oáº¡n code Ä‘Ã³, vÃ  vÃ¬ closure hoÃ n toÃ n cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c variable hay property cá»§a class ViewController, tháº¿ nÃªn báº¡n cÃ³ thá»ƒ custom chÃºng theo logic mong muá»‘n â€“&gt; Ä‘Ã¢y chÃ­nh lÃ  call back mÃ  mÃ¬nh Ä‘Ã£ nÃ³i.</p>

<p>Náº¿u báº¡n tinh Ã½, báº¡n sáº½ tháº¥y, cÃ¡i vÃ­ dá»¥ vá» NSURLConnection vÃ  NSURLSession kia, thá»±c cháº¥t chÃ­nh lÃ  vÃ­ dá»¥ vá» delegate vÃ  closure thay tháº¿ delegate, vÃ  báº¡n hÃ£y tÆ° duy má»Ÿ rá»™ng nÃ³ ra vá»›i toÃ n bá»™ cÃ¡c closure Ä‘Æ°á»£c tÃ­ch há»£p sáºµn trong SDK cá»§a Apple nhÃ© :D.</p>

<p>Ok, váº­y lÃ  mÃ¬nh Ä‘Ã£ xong nhá»¯ng khÃ¡i niá»‡m cÆ¡ báº£n vá» Closure, hi vá»ng blog nÃ y giÃºp cho cÃ¡c báº¡n hiá»ƒu rÃµ hÆ¡n vá» chÃºng, báº¡n chá»‰ cáº§n nhá»› 3 váº¥n Ä‘á» cá»‘t lÃµi mÃ¬nh Ä‘áº·t ra á»Ÿ Ä‘áº§u blog lÃ  Ä‘á»§.</p>

<p>Â </p>

<script id="dsq-count-scr" src="//https-vigorous-sinoussi-c377b6-netlify-com.disqus.com/count.js" async=""></script>

<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://https-vigorous-sinoussi-c377b6-netlify-com.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>

<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
:ET